(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"5M7V":function(e,t,n){"use strict";n.r(t);var o=n("8r9s");const r={class:"demo-wrapper"},a={class:"demo-wrapper"},i={class:"demo-wrapper"},l=Object(o.createTextVNode)("Show Encode Content");var c=n("a0dU"),s=n.n(c),u=n("SPx3"),d=n.n(u),m=n("Kwsy"),f=n.n(m);const p={class:"mdc-editor-container"},h={ref:"editor",class:"mdc-editor"};var b=n("+oHS"),v=n.n(b),y=n("RXMP"),g=n.n(y),j=n("526F"),E=n.n(j),C=n("N9oz"),O=n("QnW2"),k={EVENT:{TEXT_CHANGE:"update:modelValue",FILE_CHANGE:"file-change"},BLANK:"<p><br></p>",toolbarOptions:[[{font:[]},{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{header:1},{header:2},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["link","image","video"],["clean"]]},N={name:"UiEditor",props:{modelValue:{type:String,default:""},options:{type:Object,default:function(){return{}}},toolbar:{type:[Array,String,null],default:null},placeholder:{type:[String,null],default:null},readonly:{type:Boolean,default:!1},theme:{type:String,default:"snow"},customImageHandler:{type:Boolean,default:!1},toolbarCustomHandlers:{type:Object,default:function(){return{}}},emotions:{type:Array,default:function(){return[]}},extension:{type:[Boolean,Object],default:!1}},emits:[k.EVENT.TEXT_CHANGE,k.EVENT.FILE_CHANGE],data:function(){return{Editor:{},$editor:null,htmlContent:""}},watch:{model:function(e){e?this.htmlContent!==e&&(this.setHTML(e),this.$editor.blur()):this.setHTML("")}},mounted:function(){var e=this;this.Editor=n("E0Fs").default,this.$nextTick((function(){e.$editor=e.Editor.create(e.$refs.editor,{options:e.getOptions(),emotions:e.emotions,extension:e.extension}),e.modelValue&&e.setHTML(e.modelValue),e.$editor.on("text-change",(function(t,n,o){var r=e.getHTML();r===k.BLANK&&(r=""),e.htmlContent=r,e.$emit(k.EVENT.TEXT_CHANGE,r)}))}))},unmounted:function(){this.Editor.destroy()},methods:{getOptions:function(){var e=this,t={modules:{},placeholder:this.placeholder,readOnly:this.readonly,theme:this.theme},n=E()(t,this.options);if(n.modules.toolbar="full"===this.toolbar?k.toolbarOptions:this.toolbar,this.customImageHandler||"object"===Object(O.a)(this.toolbarCustomHandlers)){var o,r=this.customImageHandler?{image:function(){e.$refs.file.click()}}:{};g()(o=v()(this.toolbarCustomHandlers)).call(o,(function(t){r[t]=function(n){if(n){e.toolbarCustomHandlers[t](e.$editor,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"null";e.Editor.insert(t,n)}))}else e.$editor.format(t,!1)}})),n.modules.toolbar={container:n.modules.toolbar,handlers:r}}return n},getHTML:function(){return this.$editor.root.innerHTML},setHTML:function(e){this.$editor.root.innerHTML=e},encodeEmoji:function(e){return C.a.encode(e)},decodeEmoji:function(e){return C.a.decode(e)},onFileChange:function(e){var t=this,n=e.target.files[0];this.$emit(k.EVENT.FILE_CHANGE,n,(function(e){t.Editor.insert("image",e)})),e.target.value=""}},render:function(e,t,n,r,a,i){return Object(o.openBlock)(),Object(o.createBlock)("div",p,[Object(o.renderSlot)(e.$slots,"toolbar"),Object(o.createVNode)("div",h,null,512),n.customImageHandler?(Object(o.openBlock)(),Object(o.createBlock)("input",{key:0,ref:"file",type:"file",hidden:"",onChange:t[1]||(t[1]=(...e)=>i.onFileChange(...e))},null,544)):Object(o.createCommentVNode)("",!0)])}},x=N,H=n("GlS0"),L=n.n(H),V=n("I4jf"),T=n.n(V),S=n("yQr1"),w=n.n(S),q=n("06Pm"),A=n.n(q),M=n("kA7L"),B=n.n(M),$=n("O8AS"),I=n.n($),F=n("X5/F"),P=n.n(F),U=n("3SUL"),D=n.n(U),G=n("eYnF"),_=n.n(G),X=n("kzlf"),R=n.n(X);function z(e){var t=function(){if("undefined"===typeof Reflect||!w.a)return!1;if(w.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(w()(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_()(e);if(t){var r=_()(this).constructor;n=w()(o,arguments,r)}else n=o.apply(this,arguments);return D()(this,n)}}var K=R.a.import("blots/embed");R.a.import("ui/icons").hr="---";var J=function(e){P()(n,e);var t=z(n);function n(){return A()(this,n),t.apply(this,arguments)}return B()(n,null,[{key:"create",value:function(e){var t=I()(_()(n),"create",this).call(this,e);return t.setAttribute("style","height:0px; margin-top:10px; margin-bottom:10px;"),t}}]),n}(K);J.blotName="hr",J.className="my-hr",J.tagName="hr";var W=J,Q={components:{UiEditor:x},metaInfo:{titleTemplate:"%s - Editor"},data:function(){return{content1:"",content2:"",encodeContent:"",decodeContent:"",toolbar:[[{font:[]},{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{header:1},{header:2},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],["emoji","link","image","video"],["clean"],["undo","redo"],["hr"]],toolbarCustomHandlers:{undo:function(e){e.history.undo()},redo:function(e){e.history.redo()},hr:function(e,t){t()}},emotions:[{type:"image",title:"Default",content:[{name:"oo",alt:"\u574f\u7b11",src:L.a}]},{type:"emoji",title:"Emoji",content:[{name:"smile",value:"\ud83d\ude00"},{name:"cry",value:"\ud83d\ude06"}]},{type:"image",title:"Custom",content:[{name:"xx",alt:"\u8214\u5c4f",src:T.a}]}],extension:{"formats/hr":W}}},mounted:function(){var e=this;f()((function(){e.content1="<p>Hello BalmUI</p>",e.content2="<p>Hello BalmJS</p>",e.$refs.editor&&(e.decodeContent=e.$refs.editor.decodeEmoji("<p>Hello BalmUI [oo] and BalmJS :smile: !</p>"))}),1e3)},methods:{onFileChange:function(e,t){return d()(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("upload file",e),t(e.name);case 2:case"end":return n.stop()}}),n)})))()},onEncodeContent:function(){this.encodeContent=this.$refs.editor.encodeEmoji(this.decodeContent)}},render:function(e,t,n,c,s,u){const d=Object(o.resolveComponent)("ui-editor"),m=Object(o.resolveComponent)("ui-snippet"),f=Object(o.resolveComponent)("ui-button"),p=Object(o.resolveComponent)("docs-page");return Object(o.openBlock)(),Object(o.createBlock)(p,{name:"editor","demo-count":"3","without-css":""},{hero:Object(o.withCtx)((()=>[Object(o.createVNode)("h1",{class:e.$tt("headline1")},"WYSIWYG",2)])),default:Object(o.withCtx)((()=>[Object(o.createVNode)("section",r,[Object(o.createVNode)("h6",{class:e.$tt("headline6")},"1.1 Snow (Default)",2),Object(o.createVNode)(d,{modelValue:s.content1,"onUpdate:modelValue":t[1]||(t[1]=e=>s.content1=e)},null,8,["modelValue"]),Object(o.createVNode)(m,{code:e.$store.demos[1]},null,8,["code"])]),Object(o.createVNode)("section",a,[Object(o.createVNode)("h6",{class:e.$tt("headline6")},"1.2 Bubble",2),Object(o.createVNode)(d,{modelValue:s.content2,"onUpdate:modelValue":t[2]||(t[2]=e=>s.content2=e),theme:"bubble"},null,8,["modelValue"]),Object(o.createVNode)(m,{code:e.$store.demos[2]},null,8,["code"])]),Object(o.createVNode)("section",i,[Object(o.createVNode)("h6",{class:e.$tt("headline6")},"1.3 Custom Toolbar",2),Object(o.createVNode)(d,{ref:"editor",modelValue:s.decodeContent,"onUpdate:modelValue":t[3]||(t[3]=e=>s.decodeContent=e),placeholder:"Compose an epic...",toolbar:s.toolbar,"toolbar-custom-handlers":s.toolbarCustomHandlers,emotions:s.emotions,extension:s.extension,"custom-image-handler":"","onFile-change":u.onFileChange},null,8,["modelValue","toolbar","toolbar-custom-handlers","emotions","extension","onFile-change"]),Object(o.createVNode)("p",null,[Object(o.createVNode)(f,{outlined:"",onClick:u.onEncodeContent},{default:Object(o.withCtx)((()=>[l])),_:1},8,["onClick"])]),Object(o.createVNode)("div",null,Object(o.toDisplayString)(s.encodeContent),1),Object(o.createVNode)(m,{code:e.$store.demos[3]},null,8,["code"])])])),_:1})}};t.default=Q},"6Kk0":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s}));var o=n("o+MX"),r=n.n(o),a="ql-emoji";function i(e,t){return t.name&&("emoji"===e?t.value:t.src)}function l(e){return"emoji"===e.type?":".concat(e.name,":"):"[".concat(e.name,"]")}function c(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("emoji"===e.type?(t=document.createElement("i")).innerHTML=e.value:((t=document.createElement("img")).src=e.src,t.setAttribute("alt",e.alt||"")),!o){var i,l=document.createElement("span");return l.classList.add(a,r()(i="ql-".concat(e.type,"-")).call(i,e.name)),l.appendChild(t),l}o.classList.add(r()(n="ql-".concat(e.type,"-")).call(n,e.name)),o.appendChild(t)}function s(e,t){if(e.outerHTML)e.outerHTML=t;else{var n=document.createElement("div");n.innerText=t;var o=e.parentNode;o.replaceChild(n,e),o.innerHTML=o.innerHTML.replace("<div>".concat(t,"</div>"),t)}}},E0Fs:function(e,t,n){"use strict";n.r(t);var o=n("kzlf"),r=n.n(o),a=n("N9oz"),i=n("yQr1"),l=n.n(i),c=n("06Pm"),s=n.n(c),u=n("kA7L"),d=n.n(u),m=n("O8AS"),f=n.n(m),p=n("X5/F"),h=n.n(p),b=n("3SUL"),v=n.n(b),y=n("eYnF"),g=n.n(y),j=n("QnW2"),E=n("6Kk0");function C(e){var t=function(){if("undefined"===typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(l()(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g()(e);if(t){var r=g()(this).constructor;n=l()(o,arguments,r)}else n=o.apply(this,arguments);return v()(this,n)}}var O=function(e){h()(n,e);var t=C(n);function n(){return s()(this,n),t.apply(this,arguments)}return d()(n,null,[{key:"create",value:function(e){var t=f()(g()(n),"create",this).call(this);if("object"===Object(j.a)(e))Object(E.a)(e,t);else if("string"===Object(j.a)(e)){var o=a.a.getEmotions();Object(E.a)(o[e],t)}else console.warn("Invalid emoji");return t}}]),n}(r.a.import("blots/embed"));O.blotName="emoji",O.className=E.b,O.tagName="SPAN";var k=O,N=n("Kwsy"),x=n.n(N),H=n("RXMP"),L=n.n(H);function V(e){var t=function(){if("undefined"===typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(l()(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g()(e);if(t){var r=g()(this).constructor;n=l()(o,arguments,r)}else n=o.apply(this,arguments);return v()(this,n)}}var T=r.a.import("core/module");r.a.import("ui/icons").emoji='<svg viewbox="0 0 18 18"><circle class="ql-fill" cx="7" cy="7" r="1"></circle><circle class="ql-fill" cx="11" cy="7" r="1"></circle><path class="ql-stroke" d="M7,10a2,2,0,0,0,4,0H7Z"></path><circle class="ql-stroke" cx="9" cy="9" r="6"></circle></svg>';var S="ql-emoji-palette",w="ql-emoji-close-area",q={tabBar:"ql-emoji-tab-bar",tabScroller:"ql-emoji-tab-scroller",tabContent:"ql-emoji-tab-content",tab:"ql-emoji-tab",tabActive:"ql-emoji-tab--active",panel:"ql-emoji-panel"};function A(e){return e.getSelection()}function M(){var e=document.getElementById(S);return e&&(e.remove(),document.getElementById(w).style.display="none"),!!e}function B(e,t,n){if(t){n.innerHTML="";var o=a.a.getEmotion(t);L()(o).call(o,(function(t){var o=Object(E.a)(t);o.setAttribute("title",Object(E.c)(t)),n.appendChild(o),function(e,t,n){e.focus();var o=A(e);t.addEventListener("click",(function(t){e.insertEmbed(o.index,"emoji",n,r.a.sources.USER),x()((function(){return e.setSelection(o.index+1)}),1),M()}))}(e,o,t)}))}else n.innerHTML="emotions prop is required"}var $,I=function(e){h()(n,e);var t=V(n);function n(e,o){var r;return s()(this,n),(r=t.call(this,e,o)).quill=e,r.toolbar=e.getModule("toolbar"),"undefined"!==typeof r.toolbar&&r.toolbar.addHandler("emoji",r.checkPalatteExist),r}return d()(n,[{key:"checkPalatteExist",value:function(){var e=this.quill;!function(e){M()||(function(e){var t=document.createElement("div"),n=A(e),o=e.getBounds(n.index);e.container.appendChild(t);var r=o.left+240;t.id=S,t.style.top=10+o.top+o.height+"px",r>e.container.offsetWidth?t.style.left=o.left-250+"px":t.style.left=o.left+"px";var i=document.createElement("div");i.className=q.tabBar,t.appendChild(i);var l=document.createElement("div");l.className=q.tabScroller,i.appendChild(l);var c=document.createElement("div");c.className=q.panel,t.appendChild(c);var s=a.a.getTypes();(function(e,t,n,o){var r=document.createElement("ul");r.className=q.tabContent,n.appendChild(r),L()(t).call(t,(function(t,n){var a=document.createElement("li");a.classList.add(q.tab),0===n&&a.classList.add(q.tabActive),a.innerHTML=t.title,a.dataset.title=t.title,r.appendChild(a),a.addEventListener("click",(function(t){var n=t.target;if(!n.classList.contains(q.tabActive)){var r=document.querySelector(".".concat(q.tabActive));r&&r.classList.remove(q.tabActive),n.classList.toggle(q.tabActive),B(e,n.dataset.title,o)}}))}))})(e,s,l,c),B(e,s[0]&&s[0].title,c)}(e),function(){if(document.getElementById(w))document.getElementById(w).style.display="block";else{var e=document.createElement("div");e.id=w,e.addEventListener("click",M,!1),document.querySelector("body").appendChild(e)}}())}(e),e.on("text-change",(function(t,n,o){"user"===o&&(M(),A(e))}))}}]),n}(T),F=r.a.import("ui/icons");F.undo='<svg viewbox="0 0 18 18"><polygon class="ql-fill ql-stroke" points="6 10 4 12 2 10 6 10"/><path class="ql-stroke" d="M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"/></svg>',F.redo='<svg viewbox="0 0 18 18"><polygon class="ql-fill ql-stroke" points="12 10 14 12 16 10 12 10"/><path class="ql-stroke" d="M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"/></svg>';t.default={create:function(e,t){var n=t.options,o=t.emotions,i=t.extension;return"snow"===n.theme&&(new a.a(o),r.a.register({"formats/emoji":k,"modules/emoji":I},!0),n.modules.emoji=!0),i&&r.a.register(i,!0),$=new r.a(e,n)},destroy:function(){a.a.clear()},insert:function(e,t){var n=$.getSelection();n&&$.insertEmbed(n.index,e,t,r.a.sources.USER)}}},GlS0:function(e,t,n){e.exports=n.p+"js/assets/pcmoren_huaixiao.ea5e2ae6.png"},I4jf:function(e,t,n){e.exports=n.p+"js/assets/pcmoren_tian.0169263c.png"},N9oz:function(e,t,n){"use strict";var o=n("526F"),r=n.n(o),a=n("UtpJ"),i=n.n(a),l=n("RXMP"),c=n.n(l),s=n("x1GB"),u=n.n(s),d=n("06Pm"),m=n.n(d),f=n("kA7L"),p=n.n(f),h=n("6Kk0"),b=/(:\w+:)|(\[\w+\])/g,v=[],y={},g={},j=function(){function e(t){m()(this,e);for(var n=function(e,n){var o,a=t[e];if(v.push({type:a.type,title:a.title}),!u()(o=a.content).call(o,(function(e){return Object(h.d)(a.type,e)})))return console.warn("Invalid emotions format"),v=[],y={},g={},"break";var l,s=[];c()(l=i()([]).call(a.content)).call(l,(function(e){var t=r()({type:a.type},e),n=Object(h.c)(t);s.push(t),g[n]=t})),y[a.title]=s},o=0,a=t.length;o<a;o++){if("break"===n(o))break}}return p()(e,null,[{key:"getTypes",value:function(){return v}},{key:"getEmotion",value:function(e){return y[e]}},{key:"getEmotions",value:function(){return g}},{key:"clear",value:function(){v=[],y={},g={}}},{key:"encode",value:function(e){var t,n=(new DOMParser).parseFromString(e,"text/html");return c()(t=n.querySelectorAll(".".concat(h.b))).call(t,(function(e){var t=e.classList[1]?e.classList[1].split("-"):[];if(3===t.length){var n=t[1],o=t[2],r=Object(h.c)({type:n,name:o});Object(h.e)(e,r)}})),n.querySelector("body").innerHTML}},{key:"decode",value:function(e){var t=e,n=e.match(b);return n&&c()(n).call(n,(function(e){var n=Object(h.a)(g[e]);t=t.replace(e,n.outerHTML)})),t}}]),e}();t.a=j}}]);